(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d21e2c9a"],{b444:function(e,t,r){"use strict";t["a"]={logout:"You are logout system",login:"Welcome to crm system",tologin:"Для начала войдите в систему"}},bb51:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"page-title"},[r("h3",[e._v("Счет")]),r("button",{staticClass:"btn waves-effect waves-light btn-small",on:{click:e.refresh}},[r("i",{staticClass:"material-icons"},[e._v("refresh")])])]),e.loading?r("Loader"):r("div",{staticClass:"row"},[r("home-bill",{attrs:{rates:e.currency.rates}}),r("home-currency",{attrs:{rates:e.currency.rates,timestamp:e.currency.timestamp}})],1)],1)},s=[],a=(r("96cf"),r("1da1")),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col s12 m6 l4"},[r("div",{staticClass:"card light-blue bill-card"},[r("div",{staticClass:"card-content white-text"},[r("span",{staticClass:"card-title"},[e._v("Счет в валюте")]),e._l(e.currencies,(function(t){return r("p",{key:t,staticClass:"currency-line"},[r("span",[e._v(" "+e._s(e._f("currency")(e.getCurrency(t),t))+" ")])])}))],2)])])},i=[],u={name:"HomeBill",props:["rates"],data:function(){return{currencies:["RUB","USD","EUR"]}},computed:{base:function(){return this.$store.getters.info.bill/(this.rates["RUB"]/this.rates["EUR"])}},methods:{getCurrency:function(e){return Math.floor(this.base*this.rates[e])}}},l=u,o=r("2877"),m=Object(o["a"])(l,c,i,!1,null,"6376e770",null),d=m.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col s12 m6 l8"},[r("div",{staticClass:"card orange darken-3 bill-card"},[r("div",{staticClass:"card-content white-text"},[e._m(0),r("table",[e._m(1),r("tbody",e._l(e.currencies,(function(t){return r("tr",{key:t},[r("td",[e._v(e._s(t))]),r("td",[e._v(e._s(e.rates[t].toFixed(2)))]),r("td",[e._v(e._s(e._f("date")(e.timestamp,"datetime")))])])})),0)])])])])},f=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card-header"},[r("span",{staticClass:"card-title"},[e._v("Курс валют")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("tr",[r("th",[e._v("Валюта")]),r("th",[e._v("Курс")]),r("th",[e._v("Дата")])])])}],p={name:"HomeCurrency",props:["rates","timestamp"],data:function(){return{currencies:["RUB","USD","EUR"]}}},v=p,_=Object(o["a"])(v,h,f,!1,null,"2b912ec2",null),y=_.exports,b=r("b444"),g={name:"Home",metaInfo:function(){return{title:this.$title("Menu_Bill")}},data:function(){return{loading:!0,currency:null}},components:{HomeBill:d,HomeCurrency:y},mounted:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return b["a"][e.$route.query.message]&&e.$message(b["a"][e.$route.query.message]),t.next=3,e.$store.dispatch("fetchCurrency");case 3:e.currency=t.sent,e.currency.timestamp=Date.now(),e.loading=!1,console.log(e.currency);case 7:case"end":return t.stop()}}),t)})))()},methods:{refresh:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("fetchCurrency");case 3:e.currency=t.sent,e.currency.timestamp=Date.now(),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}}},C=g,w=Object(o["a"])(C,n,s,!1,null,null,null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-d21e2c9a.48b2ba74.js.map